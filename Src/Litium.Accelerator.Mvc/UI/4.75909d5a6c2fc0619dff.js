(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{641:function(e,t,a){"use strict";t.a=window.__litium.constants},939:function(e,t,a){"use strict";a.r(t);var r=a(53),n=a.n(r),s=a(2),o=a.n(s),l=a(27),c=a.n(l),m=a(28),i=a.n(m),d=a(29),u=a.n(d),p=a(30),b=a.n(p),v=a(31),f=a.n(v),_=a(0),h=a.n(_),y=a(12),E=a(671),g=a(3),N=a.n(g),j=a(15),O=function(e){function t(e){var a;return c()(this,t),(a=u()(this,b()(t).call(this,e))).state={removingRow:{}},a}return f()(t,e),i()(t,[{key:"onRemoveRequest",value:function(e,t){this.setState((function(a){return o()({},a,{removingRow:o()({},a.removingRow,n()({},e,t))})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.addresses,r=t.onEdit,n=t.onRemove,s=this.state.removingRow;return h.a.createElement("div",{className:"simple-table"},h.a.createElement("div",{className:"row medium-unstack no-margin simple-table__header"},h.a.createElement("div",{className:"columns"},Object(j.a)("mypage.address.address")),h.a.createElement("div",{className:"columns"},Object(j.a)("mypage.address.postnumber")),h.a.createElement("div",{className:"columns"},Object(j.a)("mypage.address.city")),h.a.createElement("div",{className:"columns medium-2 hide-for-small-only"})),a&&N()(a).call(a,(function(t){return h.a.createElement("div",{className:"row medium-unstack no-margin",key:"".concat(t.systemId)},h.a.createElement("div",{className:"columns"},t.address),h.a.createElement("div",{className:"columns"},t.zipCode),h.a.createElement("div",{className:"columns"},t.city),h.a.createElement("div",{className:"columns medium-2"},h.a.createElement("a",{className:"table__icon table__icon--edit",onClick:function(){return r(t)},title:Object(j.a)("Edit")}),!s[t.systemId]&&h.a.createElement("a",{className:"table__icon table__icon--delete",onClick:function(){return e.onRemoveRequest(t.systemId,!0)},title:Object(j.a)("Remove")}),s[t.systemId]&&h.a.createElement("a",{className:"table__icon table__icon--accept",onClick:function(){return n(t.systemId)},title:Object(j.a)("Accept")}),s[t.systemId]&&h.a.createElement("a",{className:"table__icon table__icon--cancel",onClick:function(){return e.onRemoveRequest(t.systemId,!1)},title:Object(j.a)("Cancel")})))})))}}]),t}(_.Component),C=a(641),w=function(e){var t,a=e.address,r=void 0===a?{}:a,n=e.errors,s=void 0===n?{}:n,o=e.onDismiss,l=e.onChange,c=e.onSubmit;return h.a.createElement("div",null,h.a.createElement("h2",null,Object(j.a)(r.systemId?"mypage.address.edittitle":"mypage.address.addtitle")),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"columns small-12 medium-8"},h.a.createElement("label",{className:"form__label",htmlFor:"address"},Object(j.a)("mypage.address.address")),h.a.createElement("input",{className:"form__input",id:"address",name:"address",type:"text",autoComplete:"address-line1",value:r.address||"",onChange:function(e){return l("address",e.target.value)}}),s.address&&h.a.createElement("span",{className:"form__validator--error form__validator--top-narrow"},s.address[0]),h.a.createElement("input",{className:"form__input",id:"address2",name:"address2",type:"text",autoComplete:"address-line2",value:r.address2||"",onChange:function(e){return l("address2",e.target.value)}}),s.address2&&h.a.createElement("span",{className:"form__validator--error form__validator--top-narrow"},s.address2[0])),h.a.createElement("div",{className:"columns small-12 medium-8"},h.a.createElement("label",{className:"form__label",htmlFor:"zipCode"},Object(j.a)("mypage.address.postnumber")),h.a.createElement("input",{className:"form__input",id:"zipCode",name:"zipCode",type:"text",autoComplete:"postal-code",value:r.zipCode||"",onChange:function(e){return l("zipCode",e.target.value)}}),s.zipCode&&h.a.createElement("span",{className:"form__validator--error form__validator--top-narrow"},s.zipCode[0])),h.a.createElement("div",{className:"columns small-12 medium-8"},h.a.createElement("label",{className:"form__label",htmlFor:"city"},Object(j.a)("mypage.address.city")),h.a.createElement("input",{className:"form__input",id:"city",name:"city",type:"text",autoComplete:"on",value:r.city||"",onChange:function(e){return l("city",e.target.value)}}),s.city&&h.a.createElement("span",{className:"form__validator--error form__validator--top-narrow"},s.city[0])),h.a.createElement("div",{className:"columns small-12 medium-8"},h.a.createElement("label",{className:"form__label",htmlFor:"country"},Object(j.a)("mypage.address.country")),h.a.createElement("select",{className:"form__input",autoComplete:"country-name",value:r.country||"",onChange:function(e){return l("country",e.target.value)}},N()(t=C.a.countries).call(t,(function(e){return h.a.createElement("option",{key:e.value,value:e.value},e.text)}))),s.country&&h.a.createElement("span",{className:"form__validator--error form__validator--top-narrow"},s.country[0])),h.a.createElement("div",{className:"columns small-12 medium-8"},h.a.createElement("label",{className:"form__label",htmlFor:"phoneNumber"},Object(j.a)("mypage.address.phonenumber")),h.a.createElement("input",{className:"form__input",id:"phoneNumber",name:"phoneNumber",type:"tel",autoComplete:"tel",value:r.phoneNumber||"",onChange:function(e){return l("phoneNumber",e.target.value)}}),s.phoneNumber&&h.a.createElement("span",{className:"form__validator--error form__validator--top-narrow"},s.phoneNumber[0]))),s.general&&h.a.createElement("div",null,s.general[0]),h.a.createElement("button",{className:"form__button",onClick:function(){return o()}},Object(j.a)("general.cancel")),h.a.createElement("span",{className:"form__space"}),h.a.createElement("button",{className:"form__button",onClick:function(){return c(r)}},Object(j.a)("general.save")))},k=a(67),q=Object(E.object)().shape({phoneNumber:Object(E.string)().required(Object(j.a)("validation.required")),country:Object(E.string)().required(Object(j.a)("validation.required")),city:Object(E.string)().required(Object(j.a)("validation.required")),zipCode:Object(E.string)().required(Object(j.a)("validation.required")),address2:Object(E.string)().nullable(),address:Object(E.string)().required(Object(j.a)("validation.required"))}),R=function(e){function t(e){var a;return c()(this,t),(a=u()(this,b()(t).call(this,e))).state={person:{}},a.props.query(),a}return f()(t,e),i()(t,[{key:"showForm",value:function(e){this.setState({address:e}),this.props.changeMode("edit")}},{key:"showList",value:function(){this.setState({address:{}}),this.props.changeMode("list")}},{key:"handleAddressInputChange",value:function(e,t){this.setState((function(a){return o()({},a,{address:o()({},a.address,n()({},e,t))})}))}},{key:"onAddressSubmit",value:function(e){var t=this;q.validate(e).then((function(){e.systemId?t.props.edit(e):t.props.add(e)})).catch((function(e){return t.props.setError(e)}))}},{key:"render",value:function(){var e=this;return h.a.createElement(_.Fragment,null,"list"!==this.props.mode&&h.a.createElement(w,{address:this.state.address,errors:this.props.errors,onDismiss:function(){return e.showList()},onChange:function(t,a){return e.handleAddressInputChange(t,a)},onSubmit:function(t){return e.onAddressSubmit(t)}}),"list"===this.props.mode&&h.a.createElement(_.Fragment,null,h.a.createElement("h2",null,Object(j.a)("mypage.address.title")),h.a.createElement("p",null,h.a.createElement("b",null,Object(j.a)("mypage.address.subtitle"))),h.a.createElement("button",{className:"form__button",onClick:function(){return e.showForm({country:C.a.countries[0].value})}},Object(j.a)("mypage.address.add")),h.a.createElement(O,{addresses:this.props.addresses,onEdit:function(t){return e.showForm(t)},onRemove:function(t){return e.props.remove(t)}})))}}]),t}(_.Component);t.default=Object(y.b)((function(e){return{addresses:e.myPage.addresses.list,mode:e.myPage.addresses.mode,errors:e.myPage.addresses.errors}}),(function(e){return{query:function(){return e(Object(k.g)())},remove:function(t){return e(Object(k.h)(t))},add:function(t){return e(Object(k.d)(t))},edit:function(t){return e(Object(k.f)(t))},changeMode:function(t){return e(Object(k.e)(t))},setError:function(t){return e(Object(k.i)(t))}}}))(R)}}]);
//# sourceMappingURL=4.75909d5a6c2fc0619dff.js.map